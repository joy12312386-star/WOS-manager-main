# ğŸš€ Cloudways éƒ¨ç½²å®ŒæˆæŒ‡å—

**éƒ¨ç½²æ—¥æœŸ**: 2026 å¹´ 1 æœˆ 23 æ—¥  
**æ‡‰ç”¨åç¨±**: WOS Manager (ç™½è’è¯ç›Ÿç®¡ç†ç³»çµ±)

---

## âœ… å·²å®Œæˆçš„ä¸Šå‚³

### å‰ç«¯æª”æ¡ˆ
- âœ… `index.html` - ç©å®¶å‰å°
- âœ… `admin.html` - ç®¡ç†å¾Œå°
- âœ… `ranks.html` - æ’è¡Œæ¦œ
- âœ… `assets/` - æ‰€æœ‰ JavaScript å’Œåœ–ç‰‡è³‡æº

### å¾Œç«¯æª”æ¡ˆ
- âœ… `server/index.ts` - ä¸»ä¼ºæœå™¨
- âœ… `server/db.ts` - è³‡æ–™åº«é€£æ¥
- âœ… `server/middleware/` - èº«ä»½é©—è­‰ä¸­é–“ä»¶
- âœ… `server/routes/` - API è·¯ç”±
- âœ… `server/services/` - æ¥­å‹™é‚è¼¯æœå‹™

### è³‡æ–™åº«æª”æ¡ˆ
- âœ… `prisma/schema.prisma` - Prisma è³‡æ–™æ¨¡å‹
- âœ… `prisma/migrations/` - è³‡æ–™åº«é·ç§»è…³æœ¬
- âœ… `database.sql` - å®Œæ•´è³‡æ–™åº«æ¶æ§‹
- âœ… `database_init.sql` - è³‡æ–™åº«åˆå§‹åŒ–è…³æœ¬

### é…ç½®æª”æ¡ˆ
- âœ… `package.json` - Node.js ä¾è³´
- âœ… `.env` - ç’°å¢ƒè®Šæ•¸

---

## ğŸ”§ å¾ŒçºŒè¨­ç½®æ­¥é©Ÿ

### ç¬¬ 1 æ­¥ï¼šåˆå§‹åŒ– MySQL è³‡æ–™åº«

é€²å…¥ **Cloudways** > **MySQL** > **Manage** > **phpmyadmin** æˆ– SQL ç·¨è¼¯å™¨

åŸ·è¡Œä»¥ä¸‹ SQL è…³æœ¬ï¼ˆè¤‡è£½ `database_init.sql` å…§å®¹æˆ– `database.sql`ï¼‰:

```sql
-- å»ºç«‹æ‰€æœ‰å¿…è¦çš„è¡¨æ ¼å’Œæª¢è¦–
-- è©³è¦‹ä¸Šå‚³çš„ database_init.sql æˆ– database.sql æª”æ¡ˆ
```

**é©—è­‰**: åŸ·è¡Œå¾Œï¼Œç¢ºèªä»¥ä¸‹è¡¨æ ¼å·²å»ºç«‹:
- `users`
- `timeslot_submissions`
- `alliance_statistics`
- `svs_applications`
- `officer_positions`
- `alliance_groups`
- `audit_logs`

### ç¬¬ 2 æ­¥ï¼šæª¢æŸ¥å‰ç«¯è¨ªå•

æ‰“é–‹ç€è¦½å™¨è¨ªå•:

```
http://172.105.217.161/index.html      # ç©å®¶å‰å°
http://172.105.217.161/admin.html      # ç®¡ç†å¾Œå°
http://172.105.217.161/ranks.html      # æ’è¡Œæ¦œ
```

âœ… **é æœŸçµæœ**: é é¢æ‡‰æ­£ç¢ºè¼‰å…¥ï¼Œé¡¯ç¤ºç™»å…¥è¡¨å–®

### ç¬¬ 3 æ­¥ï¼šå¾Œç«¯ API é…ç½®ï¼ˆå¯é¸ï¼‰

å¦‚éœ€è¦å•Ÿå‹•å¾Œç«¯ APIï¼Œé€²å…¥ Cloudways Node.js æ‡‰ç”¨é¢æ¿:

```bash
# 1. å®‰è£ä¾è³´
cd /home/svs2438/public_html
npm install

# 2. ç”Ÿæˆ Prisma å®¢æˆ¶ç«¯
npx prisma generate

# 3. åŸ·è¡Œè³‡æ–™åº«é·ç§»
npx prisma migrate deploy

# 4. å•Ÿå‹•ä¼ºæœå™¨
npm run dev:server
# æˆ–ä½¿ç”¨ PM2 (æ¨è–¦)
pm2 start "npm run dev:server" --name "wos-api"
```

**å¾Œç«¯ API ç«¯é»**: `http://172.105.217.161:3001`

---

## ğŸ¯ å¸³è™Ÿä¿¡æ¯

### è¶…ç´šç®¡ç†å“¡
- **éŠæˆ² ID**: `380768429`
- **å¯†ç¢¼**: é¦–æ¬¡ç™»å…¥æ™‚è‡ªå‹•å»ºç«‹
- **è§’è‰²**: å¯è¨ªå•ç®¡ç†å¾Œå°ï¼Œå¯ç®¡ç†å…¶ä»–ç®¡ç†å“¡

### ç™»å…¥æµç¨‹
1. é€²å…¥ http://172.105.217.161/index.html
2. è¼¸å…¥éŠæˆ² ID
3. è¨­å®šå¯†ç¢¼ï¼ˆé¦–æ¬¡ï¼‰æˆ–è¼¸å…¥å¯†ç¢¼ï¼ˆå¾ŒçºŒï¼‰
4. é¸æ“‡è¯ç›Ÿ
5. é€²å…¥ç©å®¶å‰å°
6. é»æ“Šã€Œé€²å…¥ç®¡ç†å¾Œå°ã€(åƒ…é™ç®¡ç†å“¡)

---

## ğŸ”Œ è³‡æ–™åº«é€£æ¥ä¿¡æ¯

| é …ç›® | å€¼ |
|------|-----|
| **ä¸»æ©Ÿ** | `172.105.217.161` |
| **åŸ è™Ÿ** | `3306` |
| **è³‡æ–™åº«** | `vwwwhgqshd` |
| **ä½¿ç”¨è€…** | `vwwwhgqshd` |
| **å¯†ç¢¼** | `S7BsSNaG74` |
| **é€£æ¥å­—ç¬¦ä¸²** | `mysql://vwwwhgqshd:S7BsSNaG74@172.105.217.161:3306/vwwwhgqshd` |

---

## ğŸŒ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Cloudways å…¬é–‹ç›®éŒ„                â”‚
â”‚        (/home/svs2438/public_html)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯ (Vite æ§‹å»ºè¼¸å‡º)                     â”‚
â”‚  â”œâ”€â”€ index.html                          â”‚
â”‚  â”œâ”€â”€ admin.html                          â”‚
â”‚  â”œâ”€â”€ ranks.html                          â”‚
â”‚  â””â”€â”€ assets/                             â”‚
â”‚      â”œâ”€â”€ *.js (React å…ƒä»¶)               â”‚
â”‚      â””â”€â”€ furnace/ (çˆç¶åœ–ç‰‡)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¾Œç«¯ (Node.js/Express - å¯é¸)           â”‚
â”‚  â”œâ”€â”€ server/                             â”‚
â”‚  â”‚   â”œâ”€â”€ index.ts                        â”‚
â”‚  â”‚   â”œâ”€â”€ db.ts                           â”‚
â”‚  â”‚   â”œâ”€â”€ routes/                         â”‚
â”‚  â”‚   â”œâ”€â”€ services/                       â”‚
â”‚  â”‚   â””â”€â”€ middleware/                     â”‚
â”‚  â””â”€â”€ prisma/                             â”‚
â”‚      â”œâ”€â”€ schema.prisma                   â”‚
â”‚      â””â”€â”€ migrations/                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (API èª¿ç”¨)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Cloudways MySQL è³‡æ–™åº«            â”‚
â”‚  (172.105.217.161:3306/vwwwhgqshd)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ users (ç©å®¶å¸³è™Ÿ)                       â”‚
â”‚  â€¢ timeslot_submissions (æ™‚æ®µå ±å‘Š)       â”‚
â”‚  â€¢ alliance_statistics (è¯ç›Ÿçµ±è¨ˆ)        â”‚
â”‚  â€¢ officer_positions (å®˜è·ç®¡ç†)          â”‚
â”‚  â€¢ svs_applications (SVS å ±å)           â”‚
â”‚  â€¢ audit_logs (ç¨½æ ¸ç´€éŒ„)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” å®‰å…¨å»ºè­°

1. **æ›´æ”¹ JWT å¯†é‘°**
   - ç·¨è¼¯ `.env` ä¸­çš„ `JWT_SECRET`
   - ä½¿ç”¨å¼·å¯†ç¢¼ (è‡³å°‘ 32 å­—å…ƒ)

2. **å•Ÿç”¨ HTTPS**
   - Cloudways æä¾›å…è²» SSL è­‰æ›¸
   - é€²å…¥ **SSL Certificate** ä¸¦å•Ÿç”¨

3. **å®šæœŸå‚™ä»½**
   - åœ¨ Cloudways è¨­ç½®è‡ªå‹•å‚™ä»½
   - å®šæœŸä¸‹è¼‰è³‡æ–™åº«å¿«ç…§

4. **ç›£æ§æ—¥èªŒ**
   - æŸ¥çœ‹ `audit_logs` è¡¨æ ¼è¿½è¹¤ç®¡ç†å“¡æ“ä½œ

---

## ğŸ› æ•…éšœæ’é™¤

### å‰ç«¯ç„¡æ³•è¼‰å…¥
1. æª¢æŸ¥ HTML æª”æ¡ˆåœ¨ `/public_html` ä¸­æ˜¯å¦å­˜åœ¨
2. é©—è­‰ `assets/` ç›®éŒ„ä¸­çš„ JavaScript æª”æ¡ˆ
3. æ¸…é™¤ç€è¦½å™¨å¿«å– (Ctrl+Shift+Delete)

### è³‡æ–™åº«é€£æ¥å¤±æ•—
1. é©—è­‰ MySQL ä½¿ç”¨è€…æ¬Šé™
2. ç¢ºèª IP åœ°å€æ­£ç¢º (172.105.217.161)
3. æª¢æŸ¥é˜²ç«ç‰†è¨­ç½®

### API ç„¡æ³•é€£æ¥
1. ç¢ºèªä¼ºæœå™¨åœ¨åŸ·è¡Œ: `npm run dev:server`
2. æª¢æŸ¥é€£æ¥åŸ  3001 æ˜¯å¦é–‹æ”¾
3. é©—è­‰ `.env` ä¸­çš„ `DATABASE_URL` æ­£ç¢º

---

## ğŸ“Š åŠŸèƒ½æ¸…å–®

### âœ… å·²å¯¦è£
- [x] ç©å®¶ç™»å…¥/è¨»å†Š
- [x] æ™‚æ®µæäº¤ç³»çµ± (ç«æ™¶å¾®ç²’ã€ç«çŸ³ã€åŠ é€Ÿ)
- [x] å¤šèªè¨€æ”¯æŒ (ç¹é«”ä¸­æ–‡ã€ç°¡é«”ä¸­æ–‡ã€è‹±æ–‡ã€éŸ“æ–‡)
- [x] ç®¡ç†å¾Œå° (æˆå“¡ç®¡ç†ã€å®˜è·è¨­å®š)
- [x] è¶…ç´šç®¡ç†å“¡ç³»çµ±
- [x] è¯ç›Ÿçµ±è¨ˆ
- [x] æ’è¡Œæ¦œ

### ğŸ“‹ å¯é¸åŠŸèƒ½
- [ ] SVS å ±åç³»çµ±
- [ ] å¯¦æ™‚é€šçŸ¥
- [ ] é€²éšçµ±è¨ˆåˆ†æ
- [ ] å°å‡ºå ±å‘Š

---

## ğŸ“ è¯çµ¡èˆ‡æ”¯æŒ

- **GitHub**: [WOS Manager](https://github.com)
- **å ±å‘Š Bug**: æäº¤è©³ç´°çš„éŒ¯èª¤æè¿°å’Œè¢å¹•æˆªåœ–

---

**éƒ¨ç½²å®Œæˆï¼ç³»çµ±å·²æº–å‚™å°±ç·’ã€‚** ğŸ‰
